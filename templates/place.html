<!DOCTYPE html>
<html lang="ko">

<head>
    <link rel="shortcut icon" href="../static/images/main/favicon.ico">

    <!-- Webpage Title -->
    <title>ê³µì› ë³„ | ìœ„ì¹˜ ê²€ìƒ‰</title>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">

    <!-- JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>

    <link href="../static/navbar.css" rel="stylesheet">

    <style>
        .jumbotron {
            padding-top: 15px;
        }
    </style>
    <!--navbar javascript-->
    <script>
        $(document).ready(function () {
            $('#navbarDropdown').mouseenter(function () {
                $('.dropdown-menu').slideToggle(300, "linear");
            });

            $('.dropdown-menu').mouseleave(function () {
                $(this).slideToggle(300, "linear");
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            // index.html ë¡œë“œê°€ ì™„ë£Œë˜ë©´ ìë™ìœ¼ë¡œ showStar() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.
            PicnicInfo();
        });

        function PicnicInfo() {
            placeLoc = $("#inputGroupSelect").val()
            $('#picnic-box').empty()
            $.ajax({
                type: 'GET',
                url: '/place_info?place=' + placeLoc,
                data: {},
                success: function (response) {
                    //ì¹´ë“œ ë§Œë“¤ê¸°
                    for (let i = 0; i < response['name'].length; i++) {
                        var key = String((i + 1))
                        let picName = response['name'][i][key];
                        let picLoc = response['location'][i][key];
                        let picTime = response['time'][i][key];
                        let picUrl = response['url'][i][key];
                        let picComment = response['comment'][i][key];

                        let pichtml = `
                       <div class="card">
                                <div class="card-content">
                                  <div class="media">
                                    <div class="media-left">
                                        <img
                                          src="#"
                                          alt="imgUrl ë„£ëŠ” ë¶€ë¶„"
                                        />
                                    </div>
                                    <div class="media-content">
                                      <a href="${picUrl}" target="_blank" class="star-name title is-4">${picName} (ì¢‹ì•„ìš”: ${like})</a>
                                      <p class="subtitle is-6">${picLoc}</p>
                                      <p class="subtitle is-6">${picTime}</p>
                                      <p class="subtitle is-6">${picComment}</p>

                                    </div>
                                  </div>
                                </div>
                                <footer class="card-footer">
                                  <a href="#" onclick="like('${picName}')" class="card-footer-item has-text-info">
                                    ìœ„ë¡œ!
                                    <span class="icon">
                                      <i class="fas fa-thumbs-up"></i>
                                    </span>
                                  </a>
                                  <a href="#" onclick="dislike('${picName}')" class="card-footer-item has-text-danger">
                                    ì‚­ì œ
                                    <span class="icon">
                                      <i class="fas fa-ban"></i>
                                    </span>
                                  </a>
                                </footer>
                              </div>`

                        $('#picnic-box').append(pichtml)

                    }
                }
            });
        }

        {#function like(picName) {#}
        {#    $.ajax({#}
        {#        type: "POST",#}
        {#        url: "/picnic/like",#}
        {#        data: {'name_give': picName},#}
        {#        success: function (response) {#}
        {#            if (response['result'] == 'success') {#}
        {#                // 2. 'ì¢‹ì•„ìš” ì™„ë£Œ!' ì–¼ëŸ¿ì„ ë„ì›ë‹ˆë‹¤.#}
        {#                alert('ì¢‹ì•„ìš” ğŸ¥³')#}
        {#                // 3. ë³€ê²½ëœ ì •ë³´ë¥¼ ë°˜ì˜í•˜ê¸° ìœ„í•´ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤.#}
        {#                window.location.reload()#}
        {#            }#}
        {#        }#}
        {#    });#}
        {# } #}
        {##}
        {#function dislike(picName) {#}
        {#    // 1. ì„œë²„ì— 1) POST ë°©ì‹ìœ¼ë¡œ, 2) /api/delete ë¼ëŠ” urlì—, 3) name_giveë¼ëŠ” ì´ë¦„ìœ¼ë¡œ nameì„ ì „ë‹¬í•©ë‹ˆë‹¤.#}
        {#    // ì°¸ê³ ) POST ë°©ì‹ì´ë¯€ë¡œ data: {'name_give': name} ê³¼ ê°™ì€ ì–‘ì‹ì´ ë˜ì–´ì•¼í•©ë‹ˆë‹¤!#}
        {#    $.ajax({#}
        {#        type: "POST",#}
        {#        url: "/picnic/dislike",#}
        {#        data: {'name_give': picName},#}
        {#        success: function (response) {#}
        {#            if (response['result'] == 'success') {#}
        {#                // 2. 'ì‚­ì œ ì™„ë£Œ! ì•ˆë…•!' ì–¼ëŸ¿ì„ ë„ì›ë‹ˆë‹¤.#}
        {#                alert('ì‹«ì–´ìš” ğŸ¥º')#}
        {#                // 3. ë³€ê²½ëœ ì •ë³´ë¥¼ ë°˜ì˜í•˜ê¸° ìœ„í•´ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤.#}
        {#                window.location.reload()#}
        {#            }#}
        {#        }#}
        {#    });#}
        {# } #}

    </script>

    <style>
        .jumbotron {
            margin-top: 3rem;
            margin-bottom: 1rem;
        }

    </style>
</head>
<body>

<header>
    <nav class="navbar fixed-top navbar-expand-md navbar-dark bg-custom-2">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}" target="_self">
                <strong>Lego, Hangang</strong>
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('index') }}" target="_self">Home
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="{{ url_for('show_location') }}" id="navbarDropdown"
                           target="_self" role="button"
                           data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">ê¸¸ ì°¾ê¸°</a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="{{ url_for('show_location') }}" target="_self">ê¸¸ ì°¾ê¸° (ê¸°ë³¸
                                ver.)</a>
                            <a class="dropdown-item" href="{{ url_for('fastest_route') }}" target="_self">ê°€ì¥ ê°€ê¹Œìš´
                                í•œê°•ê³µì›ì°¾ê¸°</a>
                        </div>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('show_bickeinfo') }}" target="_self">ìì „ê±° ëŒ€ì—¬</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('show_picnic') }}" target="_self">í”¼í¬ë‹‰ ì¦ê¸°ê¸°</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('review_date') }}" target="_self">ë°ì´íŠ¸ ì½”ìŠ¤ ì¶”ì²œ</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<div class="jumbotron">
    <h1 class="display-4">í•œê°•ê³µì›ì—ì„œ í”¼í¬ë‹‰ ì¦ê¸°ê¸°</h1>
    <p class="lead">í”¼í¬ë‹‰ ì„¸íŠ¸, ë ˆì € ìš©í’ˆ, í…íŠ¸, ìº í•‘ ì„¸íŠ¸ ë“± ë‹¤ì–‘í•œ ìš©í’ˆë“¤ì„ ëŒ€ì—¬í•  ìˆ˜ ìˆëŠ” ê³µê°„ì„ ì•Œë ¤ì¤ë‹ˆë‹¤.</p>
    <p>** ê°•ì„œ, ì ì‹¤ ì§€ì—­ì€ ë°ì´í„°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. **</p>
    <hr class="my-4">
    <div class="input-group">
        <select class="custom-select" id="inputGroupSelect" aria-label="Example select with button addon">
            <option selected>ëŒ€ì—¬í•˜ê³ ì í•˜ëŠ” í•œê°•ê³µì› ìœ„ì¹˜ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="1">ì—¬ì˜ë„í•œê°•ê³µì›</option>
            <option value="2">ë‚œì§€í•œê°•ê³µì›</option>
            <option value="3">ëšì„¬í•œê°•ê³µì›</option>
            <option value="4">ê´‘ë‚˜ë£¨í•œê°•ê³µì›</option>
            <option value="7">ë§ì›í•œê°•ê³µì›</option>
            <option value="8">ì–‘í™”í•œê°•ê³µì›</option>
            <option value="9">ì´ì´Œí•œê°•ê³µì›</option>
            <option value="10">ì ì›í•œê°•ê³µì›</option>
            <option value="11">ë°˜í¬í•œê°•ê³µì›</option>
        </select>
        <p class="input-group-append">
            <button class="btn btn-outline-secondary" type="button" onclick="PicnicInfo()">ëŒ€ì—¬ì†Œ ì°¾ê¸°</button>
        </p>
    </div>
</div>

<div class="picnic-list" id="picnic-box">
    <div class="card">
        <div class="card-content">
            <div class="media">
                <div class="media-left">
                    <img
                            src="#"
                            alt="imgUrl ë„£ëŠ” ë¶€ë¶„"
                    />
                </div>
                <div class="media-content">
                    <a href="#" target="_blank" class="star-name title is-4">í”¼í¬ë‹‰ (ì¢‹ì•„ìš”: 0)</a>
                    <p class="subtitle is-6">ì„œìš¸</p>
                    <p class="subtitle is-6">ì—°ì¤‘ë¬´íœ´</p>
                    <p class="subtitle is-6">ì•ˆë…•í•˜ì„¸ìš”</p>

                </div>
            </div>
        </div>

    </div>
</div>
</body>
</html>